<html>

<head title="promise chaining">

</head>

<body>
    <div id="root">
    </div>

    <script>
        let alert = console.log;
        async function loadJson(url) {
            let response = await fetch(url);
            if (response.status == 200) {
                let json = await response.json();
                root.textContent += JSON.stringify(json);
            }
            else
                throw new Error(response.status);
        }

        async function loadURLs() {
            // let url = 'https://api.github.com/no-such-user.json';
            let url = 'https://api.github.com/users/jxjjligang';
            try {
                await loadJson(url);
            } catch (error) {
                alert(`Caught: ${error}`);
            }
        }

        loadURLs();
    </script>
</body>

</html>